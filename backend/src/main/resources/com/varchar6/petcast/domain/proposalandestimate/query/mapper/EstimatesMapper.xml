<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.varchar6.petcast.domain.proposalandestimate.query.mapper.EstimatesMapper">
<resultMap id="estimateMap" type="com.varchar6.petcast.domain.proposalandestimate.query.dto.EstimateResponseDTO">
    <id column="id" property="id"/>
    <result column="expectedCost" property="expectedCost"/>
    <result column="created_at" property="createdAt"/>
    <result column="updated_at" property="updatedAt"/>
    <result column="active" property="active"/>
    <result column="status" property="status"/>
</resultMap>
<!--    <resultMap id="proposal_estimate_Map" type="com.varchar6.petcast.domain.proposalandestimate.query.dto.ProposalEstimateResponseDTO">-->
<!--        <id column="id" property="id"/>-->
<!--        <result column="expectedCost" property="expectedCost"/>-->
<!--        <result column="created_at" property="createdAt"/>-->
<!--        <result column="updated_at" property="updatedAt"/>-->
<!--        <result column="active" property="active"/>-->
<!--        <result column="status" property="status"/>-->
<!--    </resultMap>-->

<!--    &lt;!&ndash; 고객 견적서 목록 조회 &ndash;&gt;-->
<!--    <select id="findAllEstimatesByMemberId" parameterType="_int" resultMap="estimateMap">-->
<!--        SELECT e.id AS estimate_id,-->
<!--               p.id AS proposal_id,-->
<!--               p.content AS proposal_content,-->
<!--               p.status AS proposal_status,-->
<!--               p.member_id AS customer_id-->
<!--        FROM tbl_estimate e-->
<!--                 JOIN tbl_proposal p ON e.proposal_id = p.id-->
<!--        WHERE p.member_id = #{member_id}-->
<!--        ORDER BY e.created_at DESC;-->

<!--    </select>-->

<!--    &lt;!&ndash; 업체 견적서 목록 조회 &ndash;&gt;-->
<!--    <select id="findAllEstimatesByCompanyId" parameterType="_int" resultMap="estimateMap">-->
<!--        SELECT e.id AS estimate_id,-->
<!--               e.expected_cost AS estimate_cost,-->
<!--               e.status AS estimate_status,-->
<!--               e.created_at AS estimate_created_at,-->
<!--               e.updated_at AS estimate_updated_at,-->
<!--               e.active AS estimate_active,-->
<!--               e.proposal_id AS proposal_id,-->
<!--               e.company_id AS company_id-->
<!--        FROM tbl_estimate e-->
<!--        WHERE e.company_id = #{company_id}-->
<!--        ORDER BY e.created_at DESC;-->

<!--    </select>-->

<!--    &lt;!&ndash; 고객 특정 견적서 조회 &ndash;&gt;-->
<!--    <select id="findEstimateById" parameterType="_int" resultMap="estimateMep">-->
<!--        SELECT-->
<!--            e.id AS estimate_id,-->
<!--            e.expected_cost,-->
<!--            e.status,-->
<!--            e.created_at,-->
<!--            e.updated_at,-->
<!--            e.active,-->
<!--            c.name AS company_name,-->
<!--            p.id AS proposal_id,-->
<!--            p.hope_location,-->
<!--            p.hope_time,-->
<!--            p.content-->
<!--        FROM-->
<!--            tbl_estimate e-->
<!--                INNER JOIN tbl_company_info c ON e.company_id = c.id-->
<!--                INNER JOIN tbl_proposal p ON e.proposal_id = p.id-->
<!--        WHERE-->
<!--            e.id = #{estimate_id}-->
<!--    </select>-->

</mapper>